<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-ca" xml:lang="en-ca"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.27">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Getting to know the ODM – Public Health Environmental Surveillance Open Data Model (PHES-ODM) Documentation</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./how-to.html" rel="next">
<link href="./background.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-ed96de9b727972fe78a7b5d16c58bf87.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-2530bb879c2d5a982b48ad574e4712b1.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./explanation.html">Getting to know the ODM</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="./index.html" class="sidebar-logo-link">
      <img src="././assets/ODM-logo.png" alt="" class="sidebar-logo light-content py-0 d-lg-inline d-none">
      <img src="././assets/ODM-logo.png" alt="" class="sidebar-logo dark-content py-0 d-lg-inline d-none">
      </a>
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Public Health Environmental Surveillance Open Data Model (PHES-ODM) Documentation</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/Big-Life-Lab/PHES-ODM-Doc/tree/main/qmd/" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
    <div class="dropdown">
      <a href="" title="Download" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label="Download"><i class="bi bi-download"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="./ODM-documentation-v2.0.1.pdf">
              <i class="bi bi-file-pdf pe-1"></i>
            Download PDF
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="./ODM-documentation-v2.0.1.epub">
              <i class="bi bi-journal pe-1"></i>
            Download ePub
            </a>
          </li>
      </ul>
    </div>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./background.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Background</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./explanation.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Getting to know the ODM</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./how-to.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">How to use the ODM</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sampleRelationships.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Sample Relationships</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wide-names.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Long-format, wide-format, and wide-names</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./ref-guide.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Reference guide</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./parts.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Parts</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sets.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Sets</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tables.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tables</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#what-are-parts-and-part-types" id="toc-what-are-parts-and-part-types" class="nav-link active" data-scroll-target="#what-are-parts-and-part-types">What are “Parts” and “Part Types”?</a></li>
  <li><a href="#sets-and-the-rationale-behind-sets" id="toc-sets-and-the-rationale-behind-sets" class="nav-link" data-scroll-target="#sets-and-the-rationale-behind-sets">“Sets” and the rationale behind sets</a>
  <ul class="collapse">
  <li><a href="#why-category-sets-are-treated-differently" id="toc-why-category-sets-are-treated-differently" class="nav-link" data-scroll-target="#why-category-sets-are-treated-differently">Why category sets are treated differently</a></li>
  </ul></li>
  <li><a href="#the-what-and-why-of-specimen-ids" id="toc-the-what-and-why-of-specimen-ids" class="nav-link" data-scroll-target="#the-what-and-why-of-specimen-ids">The “what” and “why” of Specimen IDs</a></li>
  <li><a href="#the-what-and-why-of-groups-and-classes" id="toc-the-what-and-why-of-groups-and-classes" class="nav-link" data-scroll-target="#the-what-and-why-of-groups-and-classes">The “what” and “why” of Groups and Classes</a></li>
  <li><a href="#tables-and-table-types-within-the-odm" id="toc-tables-and-table-types-within-the-odm" class="nav-link" data-scroll-target="#tables-and-table-types-within-the-odm">Tables and table types within the ODM</a>
  <ul class="collapse">
  <li><a href="#program-description-tables" id="toc-program-description-tables" class="nav-link" data-scroll-target="#program-description-tables">Program description tables</a></li>
  <li><a href="#results-tables" id="toc-results-tables" class="nav-link" data-scroll-target="#results-tables">Results tables</a></li>
  <li><a href="#look-up-tables" id="toc-look-up-tables" class="nav-link" data-scroll-target="#look-up-tables">Look-up tables</a></li>
  </ul></li>
  <li><a href="#measures-methods-and-attributes-key-parts" id="toc-measures-methods-and-attributes-key-parts" class="nav-link" data-scroll-target="#measures-methods-and-attributes-key-parts">Measures, Methods, and Attributes: Key parts</a>
  <ul class="collapse">
  <li><a href="#measures" id="toc-measures" class="nav-link" data-scroll-target="#measures">Measures</a></li>
  <li><a href="#methods" id="toc-methods" class="nav-link" data-scroll-target="#methods">Methods</a></li>
  <li><a href="#attributes" id="toc-attributes" class="nav-link" data-scroll-target="#attributes">Attributes</a></li>
  </ul></li>
  <li><a href="#data-quality-and-reportability" id="toc-data-quality-and-reportability" class="nav-link" data-scroll-target="#data-quality-and-reportability">Data quality and reportability</a></li>
  <li><a href="#time-periods-for-samples-and-measures" id="toc-time-periods-for-samples-and-measures" class="nav-link" data-scroll-target="#time-periods-for-samples-and-measures">Time periods for samples and measures</a></li>
  <li><a href="#dates-within-the-odm" id="toc-dates-within-the-odm" class="nav-link" data-scroll-target="#dates-within-the-odm">Dates within the ODM</a></li>
  <li><a href="#translation-and-language-capabilities" id="toc-translation-and-language-capabilities" class="nav-link" data-scroll-target="#translation-and-language-capabilities">Translation and language capabilities</a></li>
  <li><a href="#recording-protocols" id="toc-recording-protocols" class="nav-link" data-scroll-target="#recording-protocols">Recording protocols</a></li>
  <li><a href="#recommended-formula-for-user-generated-ids" id="toc-recommended-formula-for-user-generated-ids" class="nav-link" data-scroll-target="#recommended-formula-for-user-generated-ids">Recommended formula for user-generated IDs</a></li>
  <li><a href="#questions-and-online-community" id="toc-questions-and-online-community" class="nav-link" data-scroll-target="#questions-and-online-community">Questions and online community</a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/Big-Life-Lab/PHES-ODM-Doc/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li><li><a href="https://github.com/Big-Life-Lab/PHES-ODM-Doc/blob/main/qmd/explanation.qmd" class="toc-action"><i class="bi empty"></i>View source</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Getting to know the ODM</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>Dictionary v3.0.0 Documentation v2.1.0</p>
<section id="what-are-parts-and-part-types" class="level2">
<h2 class="anchored" data-anchor-id="what-are-parts-and-part-types">What are “Parts” and “Part Types”?</h2>
<p>Within the ODM, every component or element of the model and the dictionary is called a “part”. Parts are grouped into “part types”.</p>
<p>Because the term “parts” refers to every component of the ODM, “part types” are a way to differentiate between parts which have different functions and structures. The three most important part types are:</p>
<ul>
<li><strong>Measures</strong>: A measurement or observation of any substance including a biological, physical or chemical substance.</li>
<li><strong>Methods</strong>: A procedure for collecting a sample or performing a measure.</li>
<li><strong>Attributes</strong>: A description of the who, where, when, and why of environmental surveillance.</li>
</ul>
<p>See the <a href="./ref-guide.html">parts reference document</a> for more details.</p>
<p>The are additional part types to support the dictionary including:</p>
<ul>
<li>Aggregations</li>
<li>Aggregation scales</li>
<li>Categories</li>
<li>Classes</li>
<li>Compartments</li>
<li>Dictionary support</li>
<li>Domains</li>
<li>Groups</li>
<li>Missingness</li>
<li>Nomenclature</li>
<li>Quality indicators</li>
<li>Specimens</li>
<li>Tables</li>
<li>Units</li>
</ul>
<p>For information and details about all the part types, please see the <a href="./ref-guide.html">parts reference document</a>.</p>
</section>
<section id="sets-and-the-rationale-behind-sets" class="level2">
<h2 class="anchored" data-anchor-id="sets-and-the-rationale-behind-sets">“Sets” and the rationale behind sets</h2>
<p>“Sets” are a way of grouping together different possible categorical inputs within the ODM. The purpose behind sets is to group options together so that users only need to check a few options from a drop-down menu, rather than scroll through a long list. Sets are also designed so that a single part can be used in multiple sets, which avoids the need to create multiple versions of this part for these different use contexts. For example, if you’re taking a measure of concentration, that measure will likely populate the unit choice drop-down list with units from the “standard concentration unit set”. Units in this set include Milligrams per litre, parts per million, and Percent Primary Sludge. Similarly, if one were measuring the amount of oxygen in a wastewater sample they would be offered units from the “dissolved gas unit set”. The units in this set include parts per million, and Milligrams per litre. You see here how Milligrams per litre is used twice across the sets, but exists still as a single part in the parts list. Unit sets are only one type of set, with the others being:</p>
<ul>
<li>Aggregation sets</li>
<li>Compartment sets</li>
<li>Quality sets</li>
<li>Specimen sets</li>
</ul>
<p>Details about these sets are their similar - but unique - applications can be found in the <a href="link forthcoming">parts reference document</a>. Importantly, “category sets” are not considered a “set” like these others. See the section below for an explanation of this difference.</p>
<section id="why-category-sets-are-treated-differently" class="level3">
<h3 class="anchored" data-anchor-id="why-category-sets-are-treated-differently">Why category sets are treated differently</h3>
<p>One of the reasons why “sets” are set up and organized the way that they are, is to allow for the re-use of parts in multiple sets. Category sets are, however, an exception to this rule because the categories that make up a category set are used in only one set. Furthermore, the general sets are needed for almost every measure or method (which require unit, aggregation, quality, and compartment information), while category sets are used only in specific circumstances for specific fields. These are things such as collection metadata (example: Sample collection category set), dictionary metadata and model architecture (example: Data Type Category Set), or more detailed types of certain methods (example: Nucleic Acid Extraction Category Set). Category sets are also a distinct part type, and more information about them can be found in the <a href="link forthcoming">parts reference document</a>.</p>
</section>
</section>
<section id="the-what-and-why-of-specimen-ids" class="level2">
<h2 class="anchored" data-anchor-id="the-what-and-why-of-specimen-ids">The “what” and “why” of Specimen IDs</h2>
<p>Specimen IDs indicate the level at which a measure is being done. This can be: a site measure, ie. a measure at a site such as temperature or weather; a sample measure, ie. a laboratory measurement on a sample, such as gene copies of SARS-CoV-2 per mL; a person measure, ie. a measure of something at the level of an individual person, such as a blood pressure reading; or a population measure, ie. an aggregate measure of a population, such as the number of confirmed cases of a given illness. While there is currently nothing in version 2.0 of the ODM with uses the person specimen ID explicitly, it has been included to allow for the possibility of storing individual-level data in a future version. The reason specimen IDs were created was so that there could be a single manner in which measures and methods are recorded, regardless of the level at which they were performed, while still maintaining the possibility to collect site, sample, and population measures as a distinct types of metadata.</p>
</section>
<section id="the-what-and-why-of-groups-and-classes" class="level2">
<h2 class="anchored" data-anchor-id="the-what-and-why-of-groups-and-classes">The “what” and “why” of Groups and Classes</h2>
<p>Groups and classes, similar to sets, are ways of grouping together different measures within the ODM. Given that the ODM aims to be as robust as possible and has a very long list of possible measures, groups and classes were designed to give shorter lists of measures in the drop down lists by specifying details about the kind of measure that a user is recording. Groups and classes can work together to further specify what kinds of measures are being reported. For example, the group <code>sarsCov2</code> contains many measures, but by specifying that the class is an <code>allele</code> or <code>variant</code>, the list of possible measures is pared down. Alternatively, class can be said to be non-applicable, paring down the measures in the <code>sarsCov2</code> group to only be unspecified measures of the quantity of the virus.</p>
</section>
<section id="tables-and-table-types-within-the-odm" class="level2">
<h2 class="anchored" data-anchor-id="tables-and-table-types-within-the-odm">Tables and table types within the ODM</h2>
<p>Within the ODM there are three types of tables: program description tables, results tables, and look-up tables. These table types exist to differentiate the function of these tables and to highlight these differences to users. The different tables take different types of inputs and maintenance from users, so understanding the differences can be important.</p>
<section id="program-description-tables" class="level3">
<h3 class="anchored" data-anchor-id="program-description-tables">Program description tables</h3>
<p>Program description tables (represented in yellow in the ERD) are tables used to record metadata on the organizations, locations, methods, and appurtenance. These tables help to describe surveillance and testing programs, and are intended to be updated infrequently.</p>
</section>
<section id="results-tables" class="level3">
<h3 class="anchored" data-anchor-id="results-tables">Results tables</h3>
<p>Results tables (represented in blue in the ERD) are the tables used to record details on samples and measures. These tables record the main outcomes data and are updated daily, if not more frequently.</p>
</section>
<section id="look-up-tables" class="level3">
<h3 class="anchored" data-anchor-id="look-up-tables">Look-up tables</h3>
<p>Look-up tables (represented in green in the ERD) are the tables that are pre-programmed and pre-populated in the ODM. These hold information on sets, all parts, languages, and translation abilities. These are only updated by the ODM team in version updates.</p>
</section>
</section>
<section id="measures-methods-and-attributes-key-parts" class="level2">
<h2 class="anchored" data-anchor-id="measures-methods-and-attributes-key-parts">Measures, Methods, and Attributes: Key parts</h2>
<p>While there are many part types, there are three main part types users should be most familiar with: measures, methods, and attributes. These three have parallels with the three table types, and the differences and details of these parts are useful to understand.</p>
<section id="measures" class="level3">
<h3 class="anchored" data-anchor-id="measures">Measures</h3>
<p>Measures are actually types of measures that can be performed. These can range from temperature to the number of gene copies in a sample. The measure, or <code>measureID</code>, can be selected from a drop down in the templates and it specifies the kind of measure you intend to record. The actual value of the measure is then recorded in the <code>value</code> field of the <code>measures</code> table, with units and aggregation specified in the <code>unitID</code> and <code>aggregationID</code> fields.</p>
</section>
<section id="methods" class="level3">
<h3 class="anchored" data-anchor-id="methods">Methods</h3>
<p>Similar to measures, methods are types of methods that can be performed to accomplish a measurement. These can be diverse, ranging from incubation, qPCR, or nucleic acid extraction. The method itself (<code>methodID</code>) is selected from a drop down in the templates, specifying in general terms the kind of method the user wishes to record. From there, the <code>value</code> field of the <code>methodSteps</code> table can be populated by one of the inputs from the category set associated with that <code>methodID</code>. This provides a higher level of detail for a given method. For example, the <code>methodID</code> might be <code>solidSep</code> for solid separation of a sample. The value field might then be populated with <code>cent</code> for centrifugation, indicating more details about how the sample settling was done.</p>
</section>
<section id="attributes" class="level3">
<h3 class="anchored" data-anchor-id="attributes">Attributes</h3>
<p>Attributes are the largest category of part type, as these refer to most of the fields in the ODM. Attributes are fields for metadata within the ODM and range greatly in the use. They comprise everything from collection dates, to sampling period, to names.</p>
</section>
</section>
<section id="data-quality-and-reportability" class="level2">
<h2 class="anchored" data-anchor-id="data-quality-and-reportability">Data quality and reportability</h2>
<p>Within the ODM there is a <code>qualityFlag</code> field present in both the <code>samples</code> and <code>measures</code> tables. This field serves to highlight whether or not there is a quality issues with the sample or the measure. The quality flag also allows a user to specify the type of quality issue. This is managed through the use of quality sets, which are the sets that contain the possible quality flags for a given measure or for samples. The idea is that this provides data on any issues with a sample and an indication of the nature of that issue. Having data about the nature and presence of a quality issue is often not sufficient for decision makers who are trying to use and interpret the data. As such, there is also a <code>reportable</code> field which is a Boolean indicator of whether or not data can or should be reported or included in final reports and decisions.</p>
</section>
<section id="time-periods-for-samples-and-measures" class="level2">
<h2 class="anchored" data-anchor-id="time-periods-for-samples-and-measures">Time periods for samples and measures</h2>
<p>For measures, there is a field <code>aDateStart</code> and <code>aDateEnd</code> which specify the date and time that an analysis was begun and finished. This allows for the recording of greater detail around timelines for especially long, multi-day analyses. For shorter analyses, which will likely make up the bulk of reported measures, the same date can be inputted into both fields. The idea is to have the reporting tables for measures be as robust as possible to allow for various kinds of timelines.</p>
<p>For samples, there is <code>collDT</code>, <code>collDTStart</code>, and <code>collDTEnd</code>. The first field is for the collection date and time of a single grab sample, so start and end are not necessary and the other two fields can be left blank. For composite or pooled sample, the start and end date and time for collection is crucial information to know. When these two fields are populated, the <code>collDT</code> field can be left blank.</p>
</section>
<section id="dates-within-the-odm" class="level2">
<h2 class="anchored" data-anchor-id="dates-within-the-odm">Dates within the ODM</h2>
<p>There are a number of date fields within the ODM which all serve different purposes. Collection datetime (<code>collDT</code>) is the date a sample was collected, used only for grab samples. This field is left blank if the collection datetime start and end fields (<code>collDTstart</code> and <code>collDTEnd</code>) have been populated instead. Inversely, collection datetime start and end fields should be left blank if the collection datetime filed has been populated. Similarly, analysis datetime start and analysis datetime end (<code>aDateStart</code> and <code>aDateEnd</code>) are used to report the date and or timeline of an analysis for a measure.</p>
<p>Date fields that are more related to data processing and labratory infrastructure are: the last edited date (<code>lastEdited</code>) which indicates the last time a table, or a measure or sample details, were last edited or updated; the sent date (<code>sentDate</code>), or date that a sample was sent to the lab from the field; the received date (<code>recDate</code>), or the date the sample was recieved in the lab; and the report date (<code>repDate</code>), or the date that the analysis results or measures were reported. These give a greater indication of how up to date data is, but also on the speed and efficiency of the pipeline between sampling and reported results. Dates should be reported in day/month/year format to accommodate the most popular global convention.</p>
</section>
<section id="translation-and-language-capabilities" class="level2">
<h2 class="anchored" data-anchor-id="translation-and-language-capabilities">Translation and language capabilities</h2>
<p>The default language of the ODM is English, but French translations of all descriptive elements of the data model dictionary are also available. As additional nation states and partners adopt the ODM, we anticipate that these fields will be translated into other languages as well. The translation capacities are managed through the language look-up table (<code>languageLUs</code>), the translation look-up table (<code>translationLUs</code>), and the parts table (<code>partsLUs</code>). When a translation for a given part is not available, the dictionary will default to the English term. The language look-up table stores linguistic and classification codes for spoken human languages, with the most recent ISO639 code being the language ID (<code>languageID</code>). In the translation table, the language ID is paired with every part ID (<code>partID</code>), along with the label (<code>partLabel</code>), description (<code>partDesc</code>), and instructions (<code>partInstr</code>) translated to that language. The part IDs are linked to the full parts list which otherwise contains metadata that is coded in variables and requires no further translation.</p>
</section>
<section id="recording-protocols" class="level2">
<h2 class="anchored" data-anchor-id="recording-protocols">Recording protocols</h2>
<p>When analyzing data from various sources, it is important to understand how the data was produced. The PHES-ODM recognizes this and includes protocols as one of its entities. To store protocols efficiently in database tables, several challenges must be addressed:</p>
<ol type="1">
<li>Protocols are comprised of a collection of steps.</li>
<li>Protocol steps can consist of two entries:
<ul>
<li><p>They can prescribe the use of a specific quantity of something. This can be described using the different measures found in the PHES-ODM dictionary and assigning them a prescribed value and unit of measurement.</p></li>
<li><p>They can prescribe an action. The PHES-ODM calls this a method.</p></li>
</ul></li>
<li>Protocol steps must be organised in the right order to convey the meaning of the protocol.</li>
<li>Steps may follow each other, or they can be done concurrently.</li>
<li>Measures found inside a protocol specify the quantity of reagents, supplies and conditions involved in the realization of a method.</li>
<li>Different protocols may use some of the same steps, but in a different order.</li>
<li>Protocols may have steps that consist in one or several (sub)protocols.</li>
<li>Protocols can be updated with new versions, or they can reference and build from other protocols.</li>
</ol>
<p>To solve these constraints, the PHES-ODM stores a protocol (e.g., what it does, who developed it, when it was developed) separately from its constituent steps. These protocol steps are stored in the <code>Protocol Steps</code> table. The entries in the steps table are either methods or measures.</p>
<p>The protocol steps are linked together in their own <code>Protocol Relationships</code> table. Rows in the relationship table have four main attributes. The first is the protocol identifier. The three other attributes define a relationship between two steps in the protocol. The relationship is expressed in the form:</p>
<p><code>subject → relationship → object</code></p>
<p>Where the subject and the object can either be a protocol step or subprotocol. The available relationships (e.g., <code>is_before</code>, <code>specifies</code>, <code>is_concurrent_with</code>, etc.) allows one to organize the protocol in a more semantically meaningful way than by simply using a sequential order.</p>
<p>This flexible structure allows protocol steps and subprotocols to be reused in any number of protocols. The relationships between protocols, protocol orderings, and protocol steps are shown in Figure A.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./assets/how-to/protocols.png" class="img-fluid figure-img"></p>
<figcaption>Figure A: Main entities and relationships used to represent protocols</figcaption>
</figure>
</div>
</section>
<section id="recommended-formula-for-user-generated-ids" class="level2">
<h2 class="anchored" data-anchor-id="recommended-formula-for-user-generated-ids">Recommended formula for user-generated IDs</h2>
<p>There are 13 user-generated IDs used in the ODM. These IDs are necessary unique identifiers used to organize observations and metadata. The ODM is not opinionated about IDs, and users are free to use whatever formula or naming convention they prefer for these IDs. We have prepared a recommended formula for these IDs, however, which users are free to use. These are the formulas used by the ODM tools to machine generate IDs where one hasn’t been provided. For a quick breakdown, see the below table:</p>
<table class="caption-top table">
<colgroup>
<col style="width: 19%">
<col style="width: 60%">
<col style="width: 20%">
</colgroup>
<thead>
<tr class="header">
<th>User ID</th>
<th>Formula</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Address ID</td>
<td>country code + province code + 2-3 letters of municipality + row</td>
<td>caOnOtt002</td>
</tr>
<tr class="even">
<td>Contact ID</td>
<td>orgID + first 3 letters of role</td>
<td>caOnOtt002UniRes</td>
</tr>
<tr class="odd">
<td>Dataset ID</td>
<td>datasetID = orgID</td>
<td>caOnOtt002Uni</td>
</tr>
<tr class="even">
<td>Instrument ID</td>
<td>first 3 letters of manufacturer + first 3 letters of name + first 3 letters of model + index</td>
<td>fisHanHan</td>
</tr>
<tr class="odd">
<td>Organization ID</td>
<td>addID + first 3 letters of name</td>
<td>caOnOtt002Uni</td>
</tr>
<tr class="even">
<td>Polygon ID</td>
<td>orgID + siteID</td>
<td>caOnOtt002UniCaOnOttOtt</td>
</tr>
<tr class="odd">
<td>Protocol ID</td>
<td>first 5 letters of name + protocolVersion</td>
<td>pmmov1</td>
</tr>
<tr class="even">
<td>Protocol Step ID</td>
<td>orgID + last 3 letters of part ID of method/measure</td>
<td>caOnOtt002UniIon</td>
</tr>
<tr class="odd">
<td>Quality ID</td>
<td>quality flag part ID + either the measure report ID, the sample ID, or measure set report ID that the quality report is for</td>
<td>flagJcaOnOttOttawasite1202008021000covN1002</td>
</tr>
<tr class="even">
<td>Measure report ID</td>
<td>sampleID + part ID of measure + row number</td>
<td>caOnOttOtt20200802Covn1002</td>
</tr>
<tr class="odd">
<td>Measure set report ID</td>
<td>Report ID of first measure in the set + # measures in the set</td>
<td>caOnOttOtt20200801Covn1002003</td>
</tr>
<tr class="even">
<td>Sample ID</td>
<td>siteID + collDT/collDTEnd (not including time) + index (if applicable)</td>
<td>caOnOttOtt20200801</td>
</tr>
<tr class="odd">
<td>Site ID</td>
<td>country code (ISO) + province code (ISO) + first 2-3 letters of municipality + 3 first letters of site name</td>
<td>caOnOttOtt</td>
</tr>
</tbody>
</table>
<p>To go into greater detail, the <em>Address ID</em> uses the recipe country code + province code + 2-3 letters of municipality + row. So it’s built using pieces of the metadata fields for the given address’ entry in the addresses table, and the row it occupies in that table. For example, the ID for an address in Ottawa would use Country Code = Canada, Province Code = Ontario, Municipality = Ottawa-Carleton, and lets say it’s recorded in the second row of the table, so Row = 002. This gives us an address ID of caOnOtt002.</p>
<p>The <em>Contact ID</em> in the contacts table uses the recipe organization ID + first 3 letters of role, again building the ID from pieces of the metadata. So if, for example, we are building a contact ID for a research associate at an organization with the ID caOnOtt002Uni, the contact ID would be caOnOtt002UniRes.</p>
<p>For the <em>Dataset ID</em>, we recommend it be the same as the <em>organization ID</em> (see below). So if, for example, we looked at our organization with the ID caOnOtt002Uni, the dataset ID would also be caOnOtt002Uni.</p>
<p><em>Instrument ID</em> uses the same approach of building using metadata, with the recipe of first 3 letters of manufacturer + first 3 letters of name + first 3 letters of model + index to generate the ID. For example, if we wanted to record a HandyStep S Repeating Pipetter (name), manufactured by Fisherbrand, and is of the model HandyStep S Mechanical, the recommended ID that is generated would be fisHanHan.</p>
<p>Our recommended recipe for <em>Organization ID</em> uses the address ID for an organization (see above for explanation) + the first 3 letters of the name. So if the organization in Ottawa described in the address ID section was the University of Ottawa, the ID would be caOnOtt002Uni.</p>
<p>For the <em>Polygon ID</em>, the recipe uses associated IDs to generate the final product. Specifically, we recommend organization ID + site ID. So for a polygon managed by an organization using the ID caOnOtt002Uni and covering a site with the ID caOnOttOtt, for example, the polygon ID would be caOnOtt002UniCaOnOttOtt.</p>
<p>The <em>Protocol ID</em> is generated using the first 5 letters of the name + the protocol version. For example, if using generating a protocol ID for a first version of a protocol called “PMMoV Process”, the ID would be pmmov1.</p>
<p>For the <em>Protocol step ID</em>, we recommend constructing combining the organization ID + last 3 letters of the part ID for the method or measure used in the step. For example, a nucleic acid extraction method (partID = extraction) step from our university of Ottawa example lab with the organization ID caOnOtt002Uni would generate the protocol step ID of caOnOtt002UniIon.</p>
<p><em>Quality ID</em> ia generated using the recipe of part ID for the given quality flag + either the measure report ID, the sample ID, or measure set report ID for which the quality report is being generated. Generating an example, if we are reporting the qulaity flag J - Weak signal extrapolation (partID = flagJ) for a measure report with the ID caOnOttOttawasite1202008021000covN1002, we get the quality ID of flagJcaOnOttOttawasite1202008021000covN1002.</p>
<p>The <em>Measure Report ID</em> is built using sampleID + part ID of measure + row number. For example, taking a measure of the SARS-CoV-2 N1 gene region (partID = covN1) from a sample with the ID caOnOttOtt20200801, recorded in the second row of the table, we get the measure report ID of caOnOttOtt20200802Covn1002.</p>
<p>The recommended recipe to generate a <em>Measure Set Report ID</em> is to use the Measure Report ID of the first measure in the set + the number of measures in the set. So for a set of 3 measures that starts with the same SARS-CoV-2 N1 gene region measure as described above (caOnOttOtt20200801Covn1002), you get the measure set report ID of caOnOttOtt20200801Covn1002003.</p>
<p><em>Sample ID</em> is generated by combining the siteID for the sample + the collection Datetime OR the end of collection datetime fields (excluding the time and only using the date) + the index value (if applicable). So for a composite sample taken at a site with the ID caOnOttOtt, which finished collection on 2020-08-01 10:00:00, with no index, the sample ID would be caOnOttOtt20200801.</p>
<p>Lastly, a <em>Site ID</em> can be generated by combining the country code (ISO) for the site + the province code (ISO) for the site + first 2-3 letters of municipality + 3 first letters of site name. So to generate a site ID for the wastewater treatment plant in Ottawa, Canada, we would take the ISO code for Canada (ca), for Ontario (on), The first three letters of Ottawa-Carleton (Ott) and the first three letters of the site name, where the name is Robert O. Pickard Environmental Centre (Rob). This gives us the recommended site ID of caOnOttRob.</p>
</section>
<section id="questions-and-online-community" class="level2">
<h2 class="anchored" data-anchor-id="questions-and-online-community">Questions and online community</h2>
<p>If any users have additional questions or issues with the ODM, we invite them to check out our <a href="http://odm.discourse.group/">Discourse Page</a> for discussion boards and community support. For larger issues, and to ask the ODM team to add additional fields or variables into the model, we encourage users to visit the project’s <a href="https://github.com/Big-Life-Lab/PHES-ODM/issues">GitHub repository</a> and to create and issue there so that a team member can respond.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./background.html" class="pagination-link" aria-label="Background">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Background</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./how-to.html" class="pagination-link" aria-label="How to use the ODM">
        <span class="nav-page-text">How to use the ODM</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/Big-Life-Lab/PHES-ODM-Doc/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li><li><a href="https://github.com/Big-Life-Lab/PHES-ODM-Doc/blob/main/qmd/explanation.qmd" class="toc-action"><i class="bi empty"></i>View source</a></li></ul></div></div></div></footer></body></html>