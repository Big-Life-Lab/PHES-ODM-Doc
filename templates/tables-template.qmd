---

---


<!--` reference1 -->
# reference

intro

<!--` reference1/ -->

```{r, echo=FALSE}
main_db <- DBI::dbConnect(RSQLite::SQLite(), "../data/tables/main.sqlite")
query <- paste("SELECT", "*", "FROM", "table_of_contents")
table_of_contents_table <- DBI::dbGetQuery(main_db, query)

content_string <-""
table_of_content <-"<ul>"

for (row_index in 1:nrow(table_of_contents_table)) {
  
  current_table_of_content_row <- table_of_contents_table[row_index, ]
  
  content_string <- paste0(content_string, current_table_of_content_row$partLabel, " (", current_table_of_content_row$partID, ") </br>", current_table_of_content_row$partDesc, "</br></br>")
  
  table_of_content <- paste0(table_of_content, "<li><a href=\"#", current_table_of_content_row$partID, "\">", current_table_of_content_row$partID, "</a></li>")
  
}
table_of_content <- paste0(table_of_content, "</ul>")



query <- paste("SELECT", "*", "FROM", "cat_tables")
cat_table <- DBI::dbGetQuery(main_db, query)
tables_string <- ""
running_table_name <-""
is_there_active_table <- FALSE

for (row_index in 1:nrow(cat_table)) {
  current_cat_table_row <- cat_table[row_index, ]
  if (is.na(cat_table[row_index,]$partType)) {
    warning(glue::glue('{cat_table[row_index,]$partID} has missing partType and will be skipped'))
    next()
  } else if (cat_table[row_index,]$partType == "table") {
    if (is_there_active_table){
      tables_string <-
      paste0(
        tables_string, "</ul>")
      is_there_active_table <- FALSE
    }
    running_table_name <- current_cat_table_row$partID
    tables_string <-
      paste0(
        tables_string,"**", 
        current_cat_table_row$partLabel,
        "** (<a name=\"",
        current_cat_table_row$partID,
        "\"></a>",current_cat_table_row$partID,
        ") </br>",
        current_cat_table_row$partDesc,
        "</br></br>"
      )
    if(!is_there_active_table){
      is_there_active_table <- TRUE
      tables_string <-
      paste0(
        tables_string, "<ul>")
    }
  }else{
    required_col_name <- paste0(running_table_name,"Required")
    
    column_type <- current_cat_table_row[[running_table_name]]
    prettified_column <- ""
    if(length(column_type)>0&&!is.na(column_type)) {
      if (column_type == "fK") {
        prettified_column <- "(Foreign Key)"
      } else if (column_type == "pK") {
        prettified_column <- "(Primary Key)"
      } else if(column_type == "header"){
        prettified_column <- ""
      } else{
        next()
      }
    }
    tables_string <-
      paste0(
        tables_string, "<li>**",
        current_cat_table_row$partLabel,
        "** (",
        current_cat_table_row$partID,
        "):",prettified_column, " (", current_cat_table_row[[required_col_name]], ") [", current_cat_table_row$dataType, "]</br>",
        current_cat_table_row$partDesc, current_cat_table_row$sub_categories_string, 
        "</li>"
      )
  }
}
if(is_there_active_table){
  tables_string <-
      paste0(
        tables_string, "</ul>")
}

```

`r table_of_content`
`r tables_string`

```{rvml}```


```{rvml}```